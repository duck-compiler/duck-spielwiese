use go "fmt";

use std::io::{println};
use std::task::{sleep};
use std::time::{Duration};

fn abc(x: Int) {
    go {
        fmt.Println(x)
    }
}

fn xyz(x: { x: Int }) {
    let y: Int = x.x;
    go {
        fmt.Println(y);
    }
}

fn f() -> String | Bool {
    "X"
}

fn ff() -> String | { x: Int } {
    "X"
}

fn main() {
    let union_duck: { x: String | Bool, y: String | { x: Int } } = { x: f(), y: ff() };


    "before sleep"->println();
    let dura: std::time::Duration = { seconds: 1 };
    sleep(dura);
    "after sleep"->println();

    let x: struct { y: Int } = .{ y: 10 };
    let y: { x: { x: Int } } = { x: { x: 20 } };
    abc(y.x.x);
    xyz(y.x);

    if (y.x.x == y.x.x) {
        go {
            fmt.Println("equal")
        }
    } else {
        go {
            fmt.Println("not equal")
        }
    }
}
