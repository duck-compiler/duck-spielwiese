use go "fmt";

module X {
    use Y::{c};

    fun a() -> XDuck {
        ::abc();
        {
            x: 10,
        }
    }
    module Y {
        fun b() {
            ::X::a();
        }

        fun c() {
            go {
                fmt.Println("Hallo von c")
            }
        }

        fun testi() {
            go {
                fmt.Println("testi")
            }
        }

        module ZZ {
            fun zz() {
                go {
                    fmt.Println("ZZ")
                }
            }
        }

        module XXX {
            fun zz() {
                let x: go any;
                go {
                    x = xxx;
                }
                go {
                    fmt.Println("XXX ZZ")
                }
            }

            fun xxx() {
                go {
                    fmt.Println("XXX xxx")
                }
            }
        }

    }

    fun call_c() {
        c();
        Y::testi();
        Y::ZZ::zz();
    }

    type XDuck = {
        x: Int,
    };

}

use X::Y::ZZ::{zz};
use X::Y::{ZZ};
use X::{Y};

fun main() {
    X::a();
    X::Y::b();
    X::call_c();
    X::Y::ZZ::zz();
    zz();
    go {
        fmt.Println(1)
    }
    ZZ::zz();
    Y::XXX::zz();
    Y::XXX::xxx();
    xxx();
}

fun xxx() {
    go {
        fmt.Println("main xxx")
    }
}

fun abc() {
    go {
        fmt.Println("hell from abc")
    }
}
